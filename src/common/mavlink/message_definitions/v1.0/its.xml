<?xml version="1.0"?>
<mavlink>
  <include>common.xml</include>
  <version>3</version>
  <dialect>0</dialect>
  <enums>
    <enum name="SYSTEMS_ID">
      <description>Systems numered list</description>
      <entry value="0" name="GCS">
        <description>Ground control system id</description>
      </entry>
      <entry value="1" name="CUBE_1">
        <description>Cube 1 id</description>
      </entry>
      <entry value="2" name="CUBE_2">
        <description>Cube 2 id</description>
      </entry>
    </enum>
    <enum name="CUBE_1_COMPONENT_ID">
      <description>Cube 1 components numered list</description>
      <entry value="0" name="CUBE_1_BCU">
        <description>Board control unit</description>
      </entry>
      <entry value="1" name="CUBE_1_SINS">
        <description>Strapdown inetrial navigation system</description>
      </entry>
      <entry value="2" name="CUBE_1_PCU">
        <description>Power control unit</description>
      </entry>
      <entry value="3" name="CUBE_1_PL">
        <description>Payload</description>
      </entry>
    </enum>
    <enum name="CUBE_2_COMPONENT_ID">
      <description>Cube 2 components numered list</description>
      <entry value="0" name="CUBE_2_PFU">
        <description>Power feeder unit</description>
      </entry>
      <entry value="1" name="CUBE_2_PCU">
        <description>Power control unit</description>
      </entry>
    </enum>
    <enum name="TIME_BASE_TYPE">
      <description>These values define the type of time base.</description>
      <entry value="0" name="TIME_BASE_TYPE_RTC">
        <description>time based on RTC</description>
      </entry>
      <entry value="1" name="TIME_BASE_TYPE_GPS">
        <description>time based on GPS</description>
      </entry>
    </enum>
  </enums>
  <messages>
    <message id="50010" name="THERMAL_STATE">
      <description></description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch).</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      <field type="uint16_t" name="area_id" >Observed area id</field>
      <field type="float" name="temperature" units="degC">Area temperature</field>
    </message>

    <message id="50011" name="ELECTRICAL_STATE">
      <description></description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch).</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      <field type="uint16_t" name="area_id" >Observed area id</field>
      <field type="float" name="current" units="A">Area Current</field>
      <field type="float" name="voltage" units="V">Area Voltage</field>
    </message>

    <message id="50012" name="GPS_UBX_NAV_SOL">
      <description></description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch).</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      <field type="uint32_t" name="iTOW" units="ms">Time of week of the navigation epoch</field>
      <field type="int32_t" name="fTOW" units="ns">Fractorial part of iTOW</field>
      <field type="int16_t" name="week">GPS week number of the navigation epoch</field>
      <field type="int8_t" name="gpsFix" units="">GPSfix type</field>
      <field type="uint8_t" name="flags" units="">Fix status flags</field>
      <field type="int32_t" name="ecefX" units="cm">ECEF X coordinate</field>
      <field type="int32_t" name="ecefY" units="cm">ECEF Y coordinate</field>
      <field type="int32_t" name="ecefZ" units="cm">ECEF Z coordinate</field>
      <field type="uint32_t" name="pAcc" units="cm">3D position accuracy estimate</field>
      <field type="int32_t" name="ecefVX" units="cm/s">ECEF X velocity</field>
      <field type="int32_t" name="ecefVY" units="cm/s">ECEF Y velocity</field>
      <field type="int32_t" name="ecefVZ" units="cm/s">ECEF Z velocity</field>
      <field type="uint32_t" name="sAcc" units="cm/s">Speed accuracy estimate</field>
      <field type="uint16_t" name="pDOP">Position DOP</field>
      <field type="uint8_t" name="reserved1">Reserved</field>
      <field type="uint8_t" name="numSV">Number of SVs used in Nav Solution</field>
    </message>

    <message id="50013" name="GPS_UBX_NAV_TIMEGPS">
      <description></description>
      <field type="uint32_t" name="iTOW" units="ms">Time of week of the navigation epoch</field>
      <field type="int32_t" name="fTOW" units="ns">Fractorial part of iTOW</field>
      <field type="int16_t" name="week">GPS week number of the navigation epoch</field>
      <field type="int8_t" name="leapS" units="s">GPS leap seconds</field>
      <field type="uint8_t" name="flags">Validity flags</field>
      <field type="uint32_t" name="tAcc" units="ns">Time accuracy estimate</field>
    </message>

    <message id="50014" name="SINS_isc">
      <description>SINS data in ISC</description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch).</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      <field type="float[3]" name="accel">accelerations</field>
      <field type="float[3]" name="compass">magnetometer vector</field>
      <field type="float[4]" name="quaternion">quaternion for translating RSC into ISC (scalar part first)</field>
    </message>

    <message id="50015" name="TIMESTAMP">
      <description></description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch).</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      <field type="uint8_t" name="time_base" enum="TIME_BASE_TYPE">Time base</field>
    </message>

    <message id="50016" name="OWN_TEMP">
      <description>
        Temperature of a subsystem main computer. 
        Subsytem can be identified by system id and component id defined in the message header.
        The values for system id and component id are defined in enums of this file.
      </description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>

      <field type="float" name="deg">Temperature of a computer</field>
    </message>
    
    <!-- Сообщения модуля полезной нагрузки -->
    <message id="50017" name = "PLD_BME280_DATA">
      <description>Payload module message with bme280 related data</description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>
      
      <field type="double" name="temperature" units="deg">Atmospheric temerapture</field>
      <field type="double" name="pressure" units="Pa">Atmospheric pressure</field>
      <field type="double" name="humidity" units="percent">Atmospheric relative humidity</field>
      <field type="double" name="altitude" units="m">Cube altitude relative to cube power-on location</field>
    </message>

    <message id="50018" name = "PLD_MICS_6814_DATA">
      <description>Payload module message with MiCS-6814 gas sensors data</description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>

      <field type="float" name="red_sensor_raw">MiCS-6814 RED sensor raw readings in a form for rs/r0</field>
      <field type="float" name="co_conc" units="ppm">C0 concetration from MiCS-6814 RED sensor</field>
      <field type="float" name="ox_sensor_raw">MiCS-6814 OX sensor raw readings in a form for rs/r0</field>
      <field type="float" name="no2_conc" units="ppm">NO2 concentration from MiCS-6814 OX sensor</field>
      <field type="float" name="nh3_sensor_raw">MiCS-6814 NH3 sensor raw readings in a form of rs/s0</field>
      <field type="float" name="nh3_conc" units="ppm">NH3 concentration from MiCS-6814 NH3 sensor</field>
    </message>

    <message id="50019" name = "PLD_ME2O2_DATA">
      <description>Payload module message with ME2-O2-F20 gas sensor data</description>
      <field type="uint64_t" name="time_s" units="s">Time since the Unix epoch</field>
      <field type="uint32_t" name="time_us" units="us">Millionth of a second</field>

      <field type="float" name="o2_conc" units="percent">O2 concetration</field>
    </message>

  </messages>
</mavlink>